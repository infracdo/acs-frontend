(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e68f1"],{"98ea":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.group,search:e.search,"sort-by":"calories",loading:e.dataloaded<1,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Groups")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:"",icon:""},on:{click:e.initialize}},Object.assign({},i)),[a("v-icon",[e._v("mdi-cached")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" New Group ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-text",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"1",md:"1"}},[a("v-subheader",[e._v("Parent Group")])],1),a("v-col",{attrs:{cols:"4",md:"4"}},[a("v-select",{attrs:{items:e.group_list,outlined:"",dense:""},model:{value:e.editedItem.parent,callback:function(t){e.$set(e.editedItem,"parent",t)},expression:"editedItem.parent"}})],1),a("v-spacer"),a("v-col",{attrs:{cols:"1",md:"1"}},[a("v-subheader",[a("div",{domProps:{innerHTML:e._s("Location <strong>*</strong>")}})])],1),a("v-col",{attrs:{cols:"4",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Location is required"}],required:"",outlined:"",dense:""},model:{value:e.editedItem.location,callback:function(t){e.$set(e.editedItem,"location",t)},expression:"editedItem.location"}})],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"1",md:"1"}},[a("v-subheader",[a("div",{domProps:{innerHTML:e._s("Group Name <strong>*</strong>")}})])],1),a("v-col",{attrs:{cols:"4",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Group name cannot be empty"}],required:"",outlined:"",dense:""},model:{value:e.editedItem.group_name,callback:function(t){e.$set(e.editedItem,"group_name",t)},expression:"editedItem.group_name"}})],1)],1),a("v-subheader",[a("div",{domProps:{innerHTML:e._s("<strong>* </strong> indicates required field")}})])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.valid||!e.editedItem.location||!e.editedItem.group_name},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"520px"},model:{value:e.dialogCancel,callback:function(t){e.dialogCancel=t},expression:"dialogCancel"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Data has not been saved. Are you sure to cancel?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancelClose}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancelConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[e._v(" No data to display ")]},proxy:!0}],null,!0)})},o=[],n=(a("c975"),a("a434"),a("c427")),d={data:function(){return{dataloaded:0,search:"",valid:!1,isSave:!1,dialog:!1,dialogDelete:!1,dialogCancel:!1,headers:[{text:"Group name",align:"start",sortable:!1,value:"group_name"},{text:"Parent",value:"parent"},{text:"Location",value:"location"},{text:"Action",value:"actions",sortable:!1}],group_list:[],group:[],editedIndex:-1,editedItem:{id:"",child:"",date_created:"",date_modified:"",group_name:"",location:"",parent:""},defaultItem:{child:"",date_created:"",date_modified:"",group_name:"",location:"",parent:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Group":"Edit Group"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;this.dataloaded=0,n["a"].get("/getgroup",{timeout:5e3}).then((function(t){e.group=t.data;var a,i=new Array;for(a in e.group)i[a]=t.data[a].parent+"/"+t.data[a].group_name;e.group_list=i,e.dataloaded=1,console.log(t.data)})).catch((function(t){console.log(t),e.dataloaded=1}))},editItem:function(e){this.dialog=!0,this.editedIndex=this.group.indexOf(e),this.editedItem=Object.assign({},e)},cancelConfirm:function(){this.editedItem.group_name="",this.editedItem.location="",this.close(),this.cancelClose()},deleteItem:function(e){this.editedIndex=this.group.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.group.splice(this.editedIndex,1),this.closeDelete(),n["a"].delete("/deletegroup/"+this.editedItem.id).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},cancelClose:function(){this.dialogCancel=!1},close:function(){var e=this;!this.editedItem.group_name&&!this.editedItem.location||this.isSave?(this.$refs.form.resetValidation(),this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,e.isSave=!1}))):this.dialogCancel=!0},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;this.editedIndex>-1?(Object.assign(this.group[this.editedIndex],this.editedItem),n["a"].put("/updategroup/"+this.editedItem.id,this.editedItem).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))):(this.group.push(this.editedItem),this.group_list.push(this.editedItem.parent+"/"+this.editedItem.group_name),n["a"].post("/addgroup",this.editedItem).then((function(t){e.group[e.group.length-1].id=t.data.id,console.log(t.data)})).catch((function(e){console.log(e)}))),this.isSave=!0,this.close()}}},l=d,s=a("2877"),r=a("6544"),c=a.n(r),u=a("8336"),v=a("b0af"),m=a("99d9"),p=a("62ad"),h=a("8fea"),g=a("169a"),f=a("ce7e"),b=a("4bd4"),x=a("132d"),_=a("0fd9"),I=a("b974"),k=a("2fa4"),C=a("e0c7"),V=a("8654"),w=a("71d9"),y=a("2a7f"),D=a("3a2f"),T=Object(s["a"])(l,i,o,!1,null,null,null);t["default"]=T.exports;c()(T,{VBtn:u["a"],VCard:v["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:p["a"],VDataTable:h["a"],VDialog:g["a"],VDivider:f["a"],VForm:b["a"],VIcon:x["a"],VRow:_["a"],VSelect:I["a"],VSpacer:k["a"],VSubheader:C["a"],VTextField:V["a"],VToolbar:w["a"],VToolbarTitle:y["a"],VTooltip:D["a"]})}}]);
//# sourceMappingURL=chunk-2d0e68f1.8a041aeb.js.map